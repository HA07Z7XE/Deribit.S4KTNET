using Deribit.S4KTNET.Core.Websocket;
using System;

namespace Deribit.S4KTNET.Core.JsonRpc
{
    //------------------------------------------------------------------------------------------------
    // documentation
    //------------------------------------------------------------------------------------------------

    // handles heartbeats
    // handles json rpc request execution

    //------------------------------------------------------------------------------------------------

    public interface IDeribitJsonRpcService
    {
        
    }

    internal class DeribitJsonRpcService : IDeribitJsonRpcService, IDisposable
    {
        //------------------------------------------------------------------------------------------------
        // configuration
        //------------------------------------------------------------------------------------------------

        private readonly DeribitConfig deribitconfig;

        //------------------------------------------------------------------------------------------------
        // fields
        //------------------------------------------------------------------------------------------------

        private IDeribitJsonRpcProxy jsonrpcproxy;

        //------------------------------------------------------------------------------------------------
        // components
        //------------------------------------------------------------------------------------------------

        private readonly Serilog.ILogger logger;

        //------------------------------------------------------------------------------------------------
        // dependencies
        //------------------------------------------------------------------------------------------------

        private readonly IDeribitService deribit;
        private readonly IDeribitWebSocketService wsservice;

        //------------------------------------------------------------------------------------------------
        // construction
        //------------------------------------------------------------------------------------------------

        public DeribitJsonRpcService
        (
            IDeribitService deribit, 
            IDeribitWebSocketService wsservice, 
            DeribitConfig config
        )
        {
            this.deribit = deribit;
            this.deribitconfig = config;
            this.wsservice = wsservice;
            this.logger = Serilog.Log.ForContext<DeribitJsonRpcService>();
        }

        //------------------------------------------------------------------------------------------------
        // disposal
        //------------------------------------------------------------------------------------------------

        public void Dispose()
        {
            
        }

        //------------------------------------------------------------------------------------------------
        // api
        //------------------------------------------------------------------------------------------------
        
        //------------------------------------------------------------------------------------------------
    }
}
